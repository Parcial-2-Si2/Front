<div class="pagetitle">
  <h1>Asignar Materias a Curso</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/dashboard">Home</a></li>
      <li class="breadcrumb-item active">Materia-Curso</li>
    </ol>
  </nav>
</div>

<!-- Sección de información del curso -->
 <div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Información del Docente</h5>
<div *ngIf="cursoSeleccionado" class="mb-4">
  <h5><strong>Curso:</strong> {{ cursoSeleccionado.nombre }}</h5>
  <p><strong>Descripción:</strong> {{ cursoSeleccionado.descripcion }}</p>
</div>


<!-- Asignar materia -->
<div class="mb-3 d-flex align-items-end">
  <div class="me-3">
    <label for="materia" class="form-label">Seleccionar materia:</label>
    <select class="form-select" [(ngModel)]="materiaSeleccionadaId">
      <option [ngValue]="null">-- Selecciona una materia --</option>
      <option *ngFor="let materia of todasLasMaterias" [ngValue]="materia.id">
        {{ materia.nombre }}
      </option>
    </select>
  </div>
  <div class="me-3">
    <label for="anio" class="form-label">Año:</label>
    <input type="number" class="form-control" [(ngModel)]="anioAsignacion" />
  </div>
  <button class="btn btn-success" (click)="asignarMateria()">Asignar</button>
</div>
  </div>
 </div>
<!-- Tabla de materias asignadas -->
<div class="card">
  <div class="card-body">
    <h5 class="card-title">Materias Asignadas</h5>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Materia</th>
          <th>Año</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let asignacion of materiasAsignadas">
          <td>{{ asignacion.id }}</td>
          <td>{{ asignacion.materia?.nombre }}</td>
          <td>{{ asignacion.anio }}</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="eliminarAsignacion(asignacion.id!)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
        <tr *ngIf="materiasAsignadas.length === 0">
          <td colspan="4" class="text-center">No hay materias asignadas</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Botón volver -->
<div class="mt-3">
  <button class="btn btn-secondary" (click)="volver()">Volver</button>
</div>
